// var ctx = document.getElementById("teamChart");
// var myChart = new Chart(ctx, {
//     type: 'pie',
//     data: {
//         labels: ["Addison", "Bennington", "Caledonia", "Chittenden", "Essex", "Franklin", "Grand Isle", "Lamoille", "Orange", "Orleans", "Rutland", "Washington", "Windham", "Windsor"],
//         datasets: [{
//             label: '# of Votes',
//             data: [12, 19, 3, 5, 2, 3, 5, 8, 20, 13, 9, 1, 12, 4],
//             backgroundColor: [
//                 'rgba(255, 99, 132, 0.2)',
//                 'rgba(54, 162, 235, 0.2)',
//                 'rgba(255, 206, 86, 0.2)',
//                 'rgba(75, 192, 192, 0.2)',
//                 'rgba(153, 102, 255, 0.2)',
//                 'rgba(255, 159, 64, 0.2)',
//                 //'rgba(255, 159, 64, 0.2)',
//                 'rgba(255, 159, 64, 0.2)',
//                 'rgba(255, 159, 64, 0.2)',
//                 'rgba(255, 159, 64, 0.2)',
//                 'rgba(255, 159, 64, 0.2)',
//                 'rgba(255, 159, 64, 0.2)',
//                 'rgba(255, 159, 64, 0.2)',
//                 'rgba(255, 159, 64, 0.2)',

//             ],
//             borderColor: [
//                 'rgba(255,99,132,1)',
//                 'rgba(54, 162, 235, 1)',
//                 'rgba(255, 206, 86, 1)',
//                 'rgba(75, 192, 192, 1)',
//                 'rgba(153, 102, 255, 1)',
//                 'rgba(255, 159, 64, 1)',
//                 // 'rgba(255, 159, 64, 1)',
//                 'rgba(255, 159, 64, 1)',
//                 'rgba(255, 159, 64, 1)',
//                 'rgba(255, 159, 64, 1)',
//                 'rgba(255, 159, 64, 1)',
//                 'rgba(255, 159, 64, 1)',
//                 'rgba(255, 159, 64, 1)',
//                 'rgba(255, 159, 64, 1)',
//             ],
//             borderWidth: 1
//         }]
//     },
//     options: {
//         height: 500,
//         // scales: {
//         //     yAxes: [{
//         //         ticks: {
//         //             beginAtZero:true
//         //         }
//         //     }]
//         // }
//     }
// });

// var ctx = document.getElementById("userChart");
// var myChart = new Chart(ctx, {
//     type: 'pie',
//     data: {
//         labels: ["Addison", "Bennington", "Caledonia", "Chittenden", "Essex", "Franklin", "Grand Isle", "Lamoille", "Orange", "Orleans", "Rutland", "Washington", "Windham", "Windsor"],
//         datasets: [{
//             label: '# of Votes',
//             data: [12, 19, 3, 5, 2, 3, 5, 8, 20, 13, 9, 1, 12, 4],
//             backgroundColor: [
//                 'rgba(255, 99, 132, 0.2)',
//                 'rgba(54, 162, 235, 0.2)',
//                 'rgba(255, 206, 86, 0.2)',
//                 'rgba(75, 192, 192, 0.2)',
//                 'rgba(153, 102, 255, 0.2)',
//                 'rgba(255, 159, 64, 0.2)',
//                 //'rgba(255, 159, 64, 0.2)',
//                 'rgba(255, 159, 64, 0.2)',
//                 'rgba(255, 159, 64, 0.2)',
//                 'rgba(255, 159, 64, 0.2)',
//                 'rgba(255, 159, 64, 0.2)',
//                 'rgba(255, 159, 64, 0.2)',
//                 'rgba(255, 159, 64, 0.2)',
//                 'rgba(255, 159, 64, 0.2)',

//             ],
//             borderColor: [
//                 'rgba(255,99,132,1)',
//                 'rgba(54, 162, 235, 1)',
//                 'rgba(255, 206, 86, 1)',
//                 'rgba(75, 192, 192, 1)',
//                 'rgba(153, 102, 255, 1)',
//                 'rgba(255, 159, 64, 1)',
//                 // 'rgba(255, 159, 64, 1)',
//                 'rgba(255, 159, 64, 1)',
//                 'rgba(255, 159, 64, 1)',
//                 'rgba(255, 159, 64, 1)',
//                 'rgba(255, 159, 64, 1)',
//                 'rgba(255, 159, 64, 1)',
//                 'rgba(255, 159, 64, 1)',
//                 'rgba(255, 159, 64, 1)',
//             ],
//             borderWidth: 1
//         }]
//     },
//     options: {
//         scales: {
//             yAxes: [{
//                 ticks: {
//                     beginAtZero:true
//                 }
//             }]
//         }
//     }
// });

// var ctx = document.getElementById("bagChart");
// var myChart = new Chart(ctx, {
//     type: 'pie',
//     data: {
//         labels: ["Addison", "Bennington", "Caledonia", "Chittenden", "Essex", "Franklin", "Grand Isle", "Lamoille", "Orange", "Orleans", "Rutland", "Washington", "Windham", "Windsor"],
//         datasets: [{
//             label: '# of Votes',
//             data: [12, 19, 3, 5, 2, 3, 5, 8, 20, 13, 9, 1, 12, 4],
//             backgroundColor: [
//                 'rgba(255, 99, 132)',
//                 'rgba(54, 162, 235)',
//                 'rgba(255, 206, 86)',
//                 'rgba(75, 192, 192)',
//                 'rgba(153, 102, 255)',
//                 'rgba(255, 159, 64)',
//                 //'rgba(255, 159, 64, 0.2)',
//                 'rgba(255, 159, 64)',
//                 'rgba(255, 159, 64)',
//                 'rgba(255, 159, 64)',
//                 'rgba(255, 159, 64)',
//                 'rgba(255, 159, 64)',
//                 'rgba(255, 159, 64)',
//                 'rgba(255, 159, 64)',

//             ],
//             borderColor: [
//                 'rgba(255,99,132,1)',
//                 'rgba(54, 162, 235, 1)',
//                 'rgba(255, 206, 86, 1)',
//                 'rgba(75, 192, 192, 1)',
//                 'rgba(153, 102, 255, 1)',
//                 'rgba(255, 159, 64, 1)',
//                 // 'rgba(255, 159, 64, 1)',
//                 'rgba(255, 159, 64, 1)',
//                 'rgba(255, 159, 64, 1)',
//                 'rgba(255, 159, 64, 1)',
//                 'rgba(255, 159, 64, 1)',
//                 'rgba(255, 159, 64, 1)',
//                 'rgba(255, 159, 64, 1)',
//                 'rgba(255, 159, 64, 1)',
//             ],
//             borderWidth: 1
//         }]
//     },
//     options: {
//         scales: {
//             yAxes: [{
//                 ticks: {
//                     beginAtZero:true
//                 }
//             }]
//         }
//     }
// });


let counties;
let bagsArray;
let profilesArray;
let teamsArray;
let labelsArray;


// let ctx = document.getElementById("barChart").getContext("2d");

// let data = {
//     labels: labelsArray,
//     datasets: [
//         {
//             label: "Bags",
//             backgroundColor: "rgb(24, 27, 28)",
//             data: bagsArray
//         },
//         {
//             label: "Profiles",
//             backgroundColor: "rgb(73, 135, 62)",
//             data: profilesArray
//         },
//         {
//             label: "Teams",
//             backgroundColor: "rgb(176, 192, 220)",
//             data: teamsArray
//         }
//     ]
// };
// var myBarChart = new Chart(ctx, {
//     type: 'bar',
//     data: data,
//     options: {
//         barValueSpacing: 20,
//         scales: {
//             yAxes: [{
//                 ticks: {
//                     min: 0,
//                 }
//             }]
//         }
//     }
// });



//NOTE! This function is called in the vermont object and will eventually be called on every map click.

function makeChart() {


let ctx = document.getElementById("barChart").getContext("2d");

let data = {
    labels: labelsArray,
    datasets: [
        {
            label: "Bags",
            backgroundColor: "rgb(24, 27, 28)",
            data: bagsArray
        },
        {
            label: "Profiles",
            backgroundColor: "rgb(73, 135, 62)",
            data: profilesArray
        },
        {
            label: "Teams",
            backgroundColor: "rgb(176, 192, 220)",
            data: teamsArray
        }
    ]
};
var myBarChart = new Chart(ctx, {
    type: 'bar',
    data: data,
    options: {
        barValueSpacing: 20,
        scales: {
            yAxes: [{
                ticks: {
                    min: 0,
                }
            }]
        }
    }
});


    counties = vermont.counties
    bagsArray = data.datasets[0].data;
    profilesArray = data.datasets[1].data;
    teamsArray = data.datasets[2].data;
    labelsArray = data.labels;

    if (level === 'state') {

        for (let county in vermont.counties) {
            bagsArray.push(vermont.counties[county].stats.bagCount);
            profilesArray.push(vermont.counties[county].stats.userActivity);
            teamsArray.push(vermont.counties[county].stats.totalTeams);
            labelsArray.push(vermont.counties[county].name);
            console.log("number of teams: " + vermont.counties[county].stats.totalTeams);
        }
    }


    else if (level === 'county') {
        bagsArray = [];
        profilesArray = [];
        teamsArray = [];
        labelsArray = [];
        let countyForGraph = vermont.countyNumber(currentCounty)
        for (let town in countyForGraph.towns) {
            bagsArray.push(countyForGraph.towns[town].stats.bagCount);
            profilesArray.push(countyForGraph.towns[town].stats.userActivity);
            teamsArray.push(countyForGraph.towns[town].stats.totalTeams);
            labelsArray.push(countyForGraph.towns[town].name);
            console.log(countyForGraph.towns[town])
            console.log(countyForGraph.towns[town].stats.bagCount)
        }
    }
}
